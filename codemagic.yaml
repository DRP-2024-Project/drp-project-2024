workflows:
    android-workflow-id:
        name: Android Sample Workflow
        # .......    
        # .......
        # .......  
    ios-native:
      environment:
        vars:
          BUNDLE_ID: "com.harveydensem.drp"
          XCODE_PROJECT: "drp.xcodeproj" # <-- Name of your Xcode project
          XCODE_SCHEME: "drp" # <-- Name of your Xcode scheme
        xcode: latest # <-- set to specific version e.g. 14.3, 15.0 to avoid unexpected updates.
        cocoapods: default
      scripts:
        - name: Install CocoaPods dependencies
          script: | 
            cd drp/ios
            pod install
          
        - name: Build ipa for distribution
          script: |
            cd drp/ios
            xcode-project build-ipa \
              --project "$CM_BUILD_DIR/$XCODE_PROJECT" \
              --scheme "$XCODE_SCHEME"
      artifacts:
        - build/ios/ipa/*.ipa
        - /tmp/xcodebuild_logs/*.log
        - $HOME/Library/Developer/Xcode/DerivedData/**/Build/**/*.app
        - $HOME/Library/Developer/Xcode/DerivedData/**/Build/**/*.dSYM
